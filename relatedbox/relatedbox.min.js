/* Related Post Box By Dihak http://www.bloggerku.com */
(function(){var c={title:'Related Post',post:3,date:true,showcredit:true};if(typeof relatedbox==="object"){for(var i in relatedbox){c[i]=relatedbox[i]}}var f='<div class="relatedshow"><a href="#"><i class="fa fa-plus"></i></a></div><div id="related-box"><div class="header"><h2>'+c.title+'</h2><div class="tombol"><a href="#" class="close"><i class="fa fa-times"></i></a></div></div><div class="list">',label=(typeof labelArray==="object"&&labelArray.length)?'/-/'+shuffle(labelArray)[0]:"",current=0,width=0;$.ajax({type:"GET",url:'http://www.bloggerku.com/feeds/posts/summary'+label+'?max-results='+c.post+'&alt=json-in-script',async:true,contentType:"application/json",dataType:"jsonp",success:function(e){var a=e.feed.entry;if(a){for(var t=0;t<a.length;t++){for(var r,l=a[t],s=0;s<l.link.length;s++)if("alternate"==l.link[s].rel){var i=l.link[s].href;break}r=void 0!==l.media$thumbnail?l.media$thumbnail.url.replace("s72-c","w"+width+"-h400-c"):"http://www.sdpb.org/s/photogallery/img/no-image-available.jpg";var n=l.title.$t,d=c.date?l.published.$t.substr(0,10):'';f+='<div class="item"><div class="gambar"><img src="'+r+'"></div><div class="info"><h3><a href="'+i+'">'+n+'</a></h3><span>'+d+'</span></div></div>'}var b=c.showcredit?'<a href="http://www.bloggerku.com" style="font-size:10px;margin-left:20px;position: absolute;bottom: 10px;">Get This Widget</a>':''html+='</div><div class="navigation"><div class="left"><a href="#"><i class="fa fa-chevron-left"></i></a></div><div class="right"><a href="#"><i class="fa fa-chevron-right"></i></a></div></div>'+b}$('body').append(f);$('#related-box').each(function(){var a=$(this).find('.list'),left=$(this).find('.left a'),right=$(this).find('.right a'),width=0,current=0;for(var i=1;i<$(this).find('.item').length;i++){width+=$(this).find('.item').outerWidth()}a.width(width+$(this).find('.item').outerWidth());left.click(function(){current==0?current=-width:current+=350;a.css('transform','translateX('+current+'px)')})right.click(function(){current==-width?current=0:current-=350;a.css('transform','translateX('+current+'px)')})function close(){$('#related-box').css({transform:'translateX(400px)'})$('.relatedshow').css('right',0)}function show(){$('#related-box').css({transform:'translateX(0)'})$('.relatedshow').css('right','-50px')}$('.relatedshow').click(function(){show()})$(this).find('.close').click(function(){close()})})}})})()
